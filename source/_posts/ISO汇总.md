---
title: ISO汇总
date: 2021-04-21 19:21:42
tags: 空间数据
---

## 1 术语及定义

**边界(boundary)**: 表示实体的限制。是点的集合或是表示这些点的对象的集合。

**坐标(coordinate)**: 在n维空间中，是一个n个数的序列，用于指定一个**点**的位置。<u>注</u>：在坐标参考系中，数字应该由单位限制。

**坐标系(coordinate system)**: 是一组数学规则，用于指定如何为每个**点**分配**坐标**。

**坐标维度(coordinate dimension)**: 描述**坐标系**中位置所需的测量值或轴。

**坐标参考系(coordinate reference system)**: 通过一个基准点与真实世界联系起来的**坐标系**。

**直接位置(direct position)**: 在**坐标参考系**中，由一组坐标描述的位置。

**缓冲区(buffer)**: 是一个**几何对象**，包含了所有与给定几何对象的距离小于或等于指定距离的**直接位置**。

**曲线(curve)**: 拓扑的一维**几何图元**，表示直线的连续图像（连通性）。<u>注</u>：曲线的边界是曲线两端的点集。如果曲线是一个循环？，那么两端是相同的，并且曲线（如果是拓扑闭合的）被认为没有边界。拓扑定理指出连通集的连续图像是连通的。拓扑为**一维**意味着，不在边界上的每个点都是曲线内拓扑开集中的一个元素，该曲线同构于开区间(0，1)。

**起点(start point)**: **曲线**的第一个**点**。

**终点(end point)**: **曲线**的最后一个**点**。

**外部(exterior)**: 全集与闭包的区别。<u>注</u>：外部的概念既适用于拓扑复合体，也适用于几何复合体。

**特征(feature)**: 现实世界的抽象。<u>注</u>: 一个特征以类型或实例的形式出现。当仅指一个时，使用特征类型或特征实例。（二者不能同时出现）

**特征属性(feature attribute)**: **特征**的特性。<u>注</u>: 特征属性有名字、数据类型和与它关联的值的定义域。一个特征实例的属性也具有特征的值（来自值的定义域）。对于特征可能具有的属性类型，这里没有任何限制。<u>与特征关联的几何图形只是特征属性的一种类型。</u>

**几何图元**: **几何图元**表示一个单一的，相连的，同构的空间元素。<u>注</u>：几何图元是表示几何配置信息的未分解的对象。他们包含了点、曲线、曲面和实体。与通用的用法不同，由于空间固有的连续性，一个几何图元是开放的可分解的（可以分解为更小的对象）。原始的是没有被选为分解的。

**几何复合体(geometric complex)**: 不相交的**几何图元**的集合，其中每个几何图元的**边界**可以表示为：在同一个集合中其他维度较小的几何图元的并集。<u>注</u>：集合中的几何图元是不相交的，因为没有直接位置位于多个几何图元的内部。集合在边界运算下是封闭的，这意味着在几何复合体中的每个元素，都有一个表示该元素边界的几何图元的集合（也是一个几何复合体）。因此，如果最大维度的几何图元是一个实体(3D)，则在此定义中的边界运算的合成最多在3个步骤后终止。任何物体的边界都是一个循环。几何复合体通常称为干净几何或隐式拓扑，这意味着已经消除了拓扑上的不一致以获得边界表示的”完整性“。

**几何对象(geometric object)**: 表示几何集的空间对象。<u>注</u>：一个几何对象由几何图元，几何图元的集合或者一个被看作单一实体的几何复合体组成。一个几何对象可能是一个对象的空间表示，例如一个特征或一个特征的重要部分。无论表示形式如何，通常都假定该特征是拓扑闭合的，即假设特征边界上的点属于特征，即使这些点在几何对象中没有明确表示。当表示一个拓扑实体时，几何对象假定不包含边界。

**内部(interior)**: 在**几何对象**上但不在他们的**边界**上的所有**直接位置**的集合。<u>注</u>：拓扑对象的内部是它任何几何形状内部的连续图像。由于它遵循拓扑定理，因此不包含在定义中。另一种说法是，如果它能被放置在对象拓扑维的欧式空间中的一个开集的同胚象中，则一个几何对象的任意一点都在它的内部。

**线性参考系(linear referencing system) 、线性定位系(linear positioning system)** : 沿路线（特征）测量与参考点距离的定位系统。<u>注</u>：该系统包含了用于确定和保留特定记录的完整程序集，如位置参考方法，以及用于存储、维护和检索路线上点和段的信息。

**点(point)**: 拓扑0维的**几何图元**，表示一个位置。<u>注</u>：点的边界是空集。

**曲面(surface)**: 拓扑2维的几何图元，局部的表示平面区域的连续图像。<u>注</u>：曲面的边界是一组有方向的闭合曲线，它们描绘了曲面的界限。

**简单特征(simple feature)**: 通过直线或点集之间的平面插值分段描述的所有几何属性的特征。<u>注</u>：插值用于曲线和曲面，这些曲线和曲面本质上是一组无限的点，因此不适用于有限穷举。每一个这样的几何实体都被分解成若干部分，这些部分可以局部地表示为参数，”控制点“的线性组合。在ISO 19107中描述为长度。对于曲线来说，每部分都有两个控制点（起点和终点）。对于曲面来说，每部分可以看成一个多边形，可以被分解为一个三角形，带有三个控制点。

## 2 几何

### 几何对象的基本方法

**Dimension()**: Integer 该几何对象的固定维度，必须低于或等于坐标系的维度。在非同构的集合中，这会返回包含的对象中最大的拓扑维度。

**GeometryType()**: String 返回几何实例化子类型的名字，该几何对象是一个可实例化的成员。几何的子类型名字作为字符串返回。

**SRID()**: Integer 返回该几何对象的空间坐标系ID。这通常是存储在相同或其他数据存储中的参考系索引的外键。

**Envelope()**: Geometry 返回该几何图形的最小边界框，以几何的形式返回。多边形由边界框的角点[(MINX, MINY), (MAXX, MINY), (MAXX, MAXY),(MINX, MAXY), (MINX, MINY)] 定义。Z和M的最小值也可以加入。一个Envelope的最简单表示是两个直接位置，一个包含所有的最小值，另一个包含所有的最大值。在一些情况中，这个坐标会超出空间参考系的有效范围。

**AsText()**: String 将该几何对象导出为特定的WKT表示形式。

**AsBinary()**: Binary 将该几何对象导出为特定的WKT二进制表示形式。

**IsEmpty()**: Integer 如果该几何对象是空的则返回1(TRUE)。如果为true，则这个几何对象表示坐标空间中的空集。返回类型为整型。但是被解释为布尔型，TRUE=1, FALSE=0。

**IsSimple()**: Integer 如果该几何对象没有不规则的几何点，则返回1(TRUE)，例如自相交或者自相切。每个几何类的实例化描述会包含导致将该类的实例分为不简单的特定条件。返回类型为整型。但是被解释为布尔型，TRUE=1, FALSE=0。

**Is3D()**: Integer 如果几何对象有z坐标值，则返回1(TRUE)。

**IsMeasured()**: Integer 如果几何对象有m坐标值，则返回1(TRUE)。

**Boundary()**: Geometry 返回几何对象组合边界的闭包。因为该函数的结果是一个闭包，因此拓扑上是闭合的，可以使用代表性的几何图元表示结果边界

### 测试几何对象之间的空间关系

以下返回值类型均为整型，但被解析为布尔型。

**Equals(anotherGeometry: Geometry)**: 空间上相等。

**Disjoint(anotherGeometry: Geometry)**: 空间上不相交。

**Intersects(anotherGeometry: Geometry)**: 空间上相交。

**Touches(anotherGeometry: Geometry)**: 空间上接触。

**Crosses(anotherGeometry: Geometry)**: 空间上交叉。

**Within(anotherGeometry: Geometry)**: 空间上位于...中。

**Contains(anotherGeometry: Geometry)**: 空间上包含。

**Overlaps(anotherGeometry: Geometry)**: 空间上重叠。

**Relate(anotherGeometry: Geometry, intersectionPatternMatrix: String )**: 如果通过在intersectionPatternMatrix中给定的值，测试两个几何对象在内部、边界和外部的交点，是相关的，则返回1。如果除了两个几何对象的外部是相交外，测试交点是空集，则返回0。



**LocateBetween(mStart: Double, mEnd: Double)**: Geometry 返回一个派生的几何集合值，匹配给定的m坐标范围。

**LocateAlong(mValue: Double)**: Geometry 返回一个派生的几何集合值，匹配给定的m坐标值。（当LocateBetween的mStart=mEnd时）

- 空集返回空值

- 没有m坐标值的几何图形值，返回点的空集。

- 只有符合条件的0维几何值，作为多点值返回。如果不匹配，则返回点的空集。

  eg. 

  a) 如果对于`multipoint m(1 0 4, 1 1 1, 1 2 2, 3 1 4, 5 3 4) `使用LocateAlong(4)，结果为：

  `multipoint m(1 0 4, 3 1 4, 5 3 4)  `

  b) 如果对于`multipoint m(1 0 4, 1 1 1, 1 2 2, 3 1 4, 5 3 5, 9 5 3, 7 6 7)  `使用LocateBetween(2, 4)，结果为：`multipoint m(1 0 4, 1 2 2, 3 1 4, 9 5 3)  `

  c) 如果对于`point m(7 6 7)  `使用LocateBetween(1, 4)，结果为`point m empty  `

  d) 如果对于`point m(7 6 7)`使用LocateBetween(7, 7)，结果为`multipoint m(7 6 7)  `

- 一维几何值

  插值在曲线元素内，而不是跨多曲线中的曲线元素。如果一维集合图形中存在连续点，且m坐标值介于mStart

  和mEnd之间，则会将曲线值元素添加到几何图形集合中，以表示这些连续点之间的曲线元素。一维几何图形值中的任何断开点（m坐标值介于mStart和mEnd之间）也被添加到几何集合中。如果没有匹配的m坐标值，则返回类型为ST_Point的空集。

  eg.

  a) 如果对于`LineStringM(1 0 0, 3 1 4, 5 3 4, 5 5 1, 5 6 4, 7 8 4, 9 9 0)  `使用LocateAlong(4)，结果为：`MultiLineStringM((3 1 4, 5 3 4), (5 6 4, 7 8 4))  `

  b) 如果对于`LineStringM(1 0 0, 1 1 1, 1 2 2, 3 1 3, 5 3 4, 9 5 5, 7 6 6)  `使用LocateBetween(2, 4)，结果为`MultiLineStringM((1 2 2, 3 1 3, 5 3 4))  `

  c) 如果对于`LineStringM(1 0 0, 1 1 1, 1 2 2, 3 1 3, 5 3 4, 9 5 5, 7 6 6)  `使用LocateBetween(6, 9)，结果为`MultiPointM(7 6 6)  `

  d) 如果对于`MultiLineStringM((1 0 0, 1 1 1, 1 2 2, 3 1 3), (4 5 3, 5 3 4, 9 5 5, 7 6 6))  `使用LocateBetween(2, 4)，结果为`MultiLineStringM((1 2 2, 3 1 3),(4 5 3, 5 3 4))  `

  e) 如果对于`LineStringM(0 0 0, 2 2 2, 4 4 4)  `使用LocateBetween(1, 3)，结果为`MultiLineStringM((1 1 1, 2 2 2, 3 3 3))  `

  f) 如果对于`MultiLineStringM((1 0 0, 1 1 1, 1 2 2, 3 1 3), (4 5 3, 5 3 4, 9 5 5, 7 6 6))  `使用LocateBetween(7, 9)，结果为`PointM empty  `

### 支持空间分析的方法

**Distance(anotherGeometry: Geometry)**: Double 在该几何对象的空间坐标系中，计算两个几何对象任意两点之间最短距离。因为几何图形是闭合的，所以可以在每个涉及的几何对象上找到一个点，这样这两个点之间的距离就是它们的几何对象之间的返回距离。

**Buffer(distance: Double)**: Geometry 返回一个几何对象，该几何对象表示与该几何对象的距离小于或等于给定距离的所有点。在该几何对象的空间坐标系中计算。

**ConvexHull()**: Geometry 返回表示该几何对象的凸包。依赖直线的凸包，可以用线性插值精确地表示任何限制于线性插值的几何体。

**Union(anotherGeometry: Geometry)**: Geometry 返回两个几何对象并集的点集。

**Difference(anotherGeometry: Geometry)**: Geometry 返回两个几何对象的差别点集。

**SymDifference(anotherGeometry: Geometry)**: Geometry 返回两个几何对象的对称差的点集。

### Z和M坐标值

z可以表示高度或海拔，m表示测量值。

在计算或生成新的几何时，不会反应z或m的值。因为是通过将几何对象投影到水平面上实现的。

## 几何集合

GeometryCollection是一个几何对象，是若干几何对象的集合。几何集合里的元素应该在同一空间参考系中。几何集合的子类可以基于维度限制成员，并且可以对元素之间的空间重叠成都设置其他约束。

### 方法

**NumGeometries()**: Integer 返回该几何集合中的几何图形的数量。

**GeometryN(N: integer)**: Geometry 返回该几何集合中第几个几何图形。

## 点

一个点是0维几何对象，代表坐标空间中的单个位置。一个点有x，y坐标值。如果相关的空间参考系要求，也可以具有z和m的坐标值。点的边界是空集。

### 方法

**X()**: Double 返回该点的x坐标值。

**Y()**: Double 返回该点的y坐标值。

**Z()**: Double 如果有z，返回该点的z坐标值,否则返回NIL。

**M()**: Double 如果有m，返回该点的m坐标值,否则返回NIL。

## 多点

多点是一个0维的几何集合，多点中的元素仅限为点。点不以语义上重要的方法连接或排序。

如果多点中没有两个点是相等的（有同样的x和y坐标值），则多点是简单的。多点的边界是空集。

## 曲线

曲线是一维几何对象，通常存储为点序列，曲线的子类型指定了点之间插值的形式。这个标准仅定义了曲线的一个子类LineString，在点之间采用线性插值。

在$f :[a, b] → ℜ^n  $映射下`D = [a, b] = {t∈ℜ⏐ a ≤ t ≤ b}  `的真实，闭合的同胚图像。

其中n是空间参考系中的坐标维度。

如果一条曲线除了两个端点，没有通过同一个点两次，则是简单的。

一个曲线的起点等于终点，则它是闭合的。

闭合曲线的边界是空集。

简单且闭合的曲线是圆环。

非闭合曲线的两个端点由它的起点和终点组成。

### 方法

**Length()**: Double 曲线在它关联的空间参考系中的长度。

**StartPoint()**: Point 曲线的起点。

**EndPoint()**: Point 曲线的终点。

**IsClosed()**: Integer 如果曲线是闭合的[StartPoint () = EndPoint ()]，则返回1。

**IsRing()**: Integer 如果曲线是闭合[StartPoint() = EndPoint ()] 且简单的（不经过同一个点超过一次），则返回1。

## 线串，直线，线环

线串是点之间具有线性插值的曲线。每对连续的点定义一条线段。

直线是有两个点的线串。

一个线环是一个闭合且简单的线串。

![线串、直线、线环](https://tvax2.sinaimg.cn/large/005SZbikgy1gp124wsbp6j30hp087wf1.jpg)

a)是一个简单的线串、b)是一个非简单线串、c)是一个简单闭合的线串(线环)、d)是一个非简单的闭合线串。

### 方法

**NumPoints()**: Integer 线串中点的个数。

**PointN(N: Integer)**: Point 返回线串中指定的点N

## 多曲线

多曲线是元素为曲线的一维几何集合。

在此标准中，多曲线是一个不可实例化的类，它为子类定义了一组方法。

当且仅当多曲线内的元素是简单的，则多曲线是简单的，并且任意两个元素之间的唯一交点出现在两个元素边界的点上。

如果一个点位于多曲线奇数个元素的边界中，则该点位于多曲线的边界。

如果多曲线的所有元素都是闭合的，则多曲线是闭合的。闭多曲线的边界总是空的。

一个多曲线被定义为拓扑闭合的。

### 方法

**IsClosed()**: Integer 如果多曲线中的每个曲线都是闭合的。

**Length()**: Double 多曲线的长度等于元素长度的总和。

## 多线串

多线串是元素为线串的多曲线。

图中多线串的边界(a)--{s1, e2}, (b)--{s1, e1}, (c)--Φ

![多线串](https://tvax4.sinaimg.cn/large/005SZbikgy1gp133z1l3qj30ir08a3z9.jpg)

a)是一个简单多线串、b)是有两个元素的非简单多线串、c)是有两个元素的非简单闭合的多线串。

## 曲面

一个曲面是二维的几何对象。

一个简单的曲面可以由单个面片组成，该面片与一个”外部边界“和0个或多个内部边界关联。通过一个简单的仿射旋转矩阵将三维空间中的单个曲面面片旋转到平面z=0上，使其与平面等距。如果面片不垂直，则在同一个平面上的投影是同构的，可以表示为线性变换，即仿射变换。

多面曲面是通过沿公共边界将这些简单曲面面片缝合在一起形成的。三维空间中的此类多面曲面可能不是整体平面，这取决于其平面法线的方向。如果所有面片都对齐（它们法线的方向都是平行的），那么整个缝合的多面体曲面是共面的，如果是相连接的，可以表示为单个面片。

简单曲面的边界与其”外部”和“内部”边界相对应的一组闭合曲线。

本标准中定义的曲面的唯一可实例化子类是多边形和多面体曲面。多边形是平面的简单曲面。多面曲面是一个简单的曲面，由一些多边形面片或面组成。如果一个多面曲面是闭合的，那么它将一个实体作为边界。包含一组封闭多面曲面的多曲面可用于表示带孔的实体对象。

### 方法

**Area()**: Double 曲面的面积，由曲面所在的空间参考系度量。

**Centroid()**: Point 该表面为点的数学质心。结果不保证一定在曲面上。

**PointOnSurface()**: Point 保证在曲面上的点。

## 多边形，三角形

多边形是由1个外部边界和0个或多个内部边界定义的平面。每个内部边界定义了多边形中的孔。三角形是具有3个不同的非共线顶点且没有内部边界。

外部边界线串定义了曲面的顶部，即曲面的侧面。从该侧面看，外边界似乎以逆时针方向穿过边界。内部线条将具有相反的方向，从“顶部”观察时显示为顺时针方向。

- 多边形是拓扑闭合的。
- 多边形的边界由一组构成其外部和内部边界的线串组成。
- 边界上的两个环不能相交，多边形边界上的环可以在**一点**相交，但只能作为**切点**。
- 一个多边形可能没有割线，尖刺或穿孔。
- 每个多边形的内部都是一个连通点集。
- 具有一个或多个孔的多边形外部没有连接。每个孔定义了一个外部的连接组件。

![多边形](https://tvax3.sinaimg.cn/large/005SZbikgy1gp1nii3vmsj30gy06vwez.jpg)

a)和c)的组合使多边形为一个规则的闭合点集。多边形使简单几何对象。

![多边形反例](https://tvax3.sinaimg.cn/large/005SZbikgy1gp1nllq6r6j30jx077q3i.jpg)

该图为一些多边形反例。

### 方法

**ExteriorRing()**: LineString 返回多边形的外部环。

**NumInteriorRing()**: Integer 返回多边形内部环的数量。

**InteriorRingN(N: Integer)**: LineString 返回多边形中为线串的第N个环

## 多面曲面

多面曲面是共享公共边界段的连续多边形的集合。对于每对“接触”的多边形，公共边界应表示为有限的线串集合。每个这样的线串应该最多是2个多边形面片边界的一部分。一个TIN（不规则三角网）是仅由三角形面片组成的多面曲面。

对于共享边界的任意两个多边形，二者的”顶部“应该一致。这意味着两个多边形的线串穿过公共边界段时，它们的方向相反。由于多面曲面是连续的，所有的多边形的方向都是一致的。

![方向一致的多面曲面](https://tva3.sinaimg.cn/large/005SZbikgy1gp1qzyihv7j30bm07faae.jpg)

如果每个这样的线串正好是两个多边形面片的边界，则多面曲面是简单闭合的。

### 方法

**NumPatches()**: Integer 返回包含多边形的数量。

**PatchN(N: Integer)**: Polygon 返回该曲面中的多边形，顺序任意。

**BoundingPolygons(p: Polygon)**: MultiPolygon 返回该曲面中多边形的集合，该集合中将给定多边形"p"与曲面中的任意多边形"p"绑定。

**IsClosed()**: Integer 如果多边形自身闭合，则返回1，也就是说没有边界且封闭实体。

## 多曲面

多曲面是一个二维几何集合，元素是曲面，所有元素都使用来自同一坐标系的坐标。多曲面中任意两个共面元素的边界最多可在有限个点相交。如果它们沿着一条曲线相交，就可以合并成一个曲面。

在此标准中多曲面是一个实例类，可用于表示多边形和多面曲面的异构曲面集合。多曲面的**子类**是只对应多边形的多多边形。其他集合应使用多曲面。

### 方法

**Area()**: Double 多曲面的面积。

**Centroid()**: Point 多曲面的数学质心。结果不保证在多曲面上。

**PointOnSurface()**: Point 保证的多曲面上的点。

## 多多边形

多多边形是元素为多边形的多曲面。

- 多多边形元素的两个多边形内部不相交。
- 作为多多边形元素的任意两个多边形的边界不能交叉，只能在有限个点上接触。
- 多多边形定义为拓扑闭合。
- 多多边形没有割线，尖刺或穿孔，多多边形是规则闭合集。
- 有多个多边形的多多边形内部是不连通的；多多边形的内部连接组件的数量等于多多边形的多边形数量。

多多边形的边界是一组与其元素多边形的边界相对应的闭合曲线（线串）。多多边形边界的每个曲线正好在一个元素多边形的边界上，元素多边形边界上的每条曲线正好在多边形的边界上。

![多多边形](https://tvax2.sinaimg.cn/large/005SZbikgy1gp1yfuea3ij30gy06fwf1.jpg)

分别有1个，3个，2个和2个多边形元素的多多边形。

![不可表示为多多边形单一实例的几何对象](https://tvax2.sinaimg.cn/large/005SZbikgy1gp1ynqfzb9j30iy061t93.jpg)

不可表示为多多边形单一实例的几何对象

## 关系运算

关系运算符是布尔方法，用于测试两个几何对象之间是否存在指定的拓扑空间关系。比较两个几何物体的基本方法是将物体投影到代表地球表面的二维水平坐标系上，然后对两个投影内部，边界和外部的的交点进行成对测试，并根据生成的3*3’交集‘矩阵中的条目对两个几何对象之间的地图关系进行分类。

几何对象的边界是较低维的几何对象集合。点或多点的边界是空集。非闭合曲线的边界由两个端点组成；闭合曲线的边界为空。多曲线的边界由奇数条元素曲线边界上的点组成。多边形的边界由它的一组环组成。多多边形的边界由多边形的环集组成。







## General Feature Model

定义了特征和信息类型及其关系的概念。

从显示中对特征及其特征进行概念建模；信息类型及其属性的概念建模；定义应用模式；应用模式规则

**特征**：是对现实世界现象的抽象表示。特征有特征类型和特征实例。特征类型是类，在特征目录中定义，特征实例是特征类型的单一引用，在数据中表示为**对象**，特征及其属性一起定义

**信息类型**：是特征目录中定义的一类对象，信息类型的实例是数据集中可识别的**信息单元**，可以与一个或多个特征实例或信息类型的其他实例相关联。用于在特征和其他信息类型之间共享信息。

