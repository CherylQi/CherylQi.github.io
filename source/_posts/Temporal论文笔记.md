---
title: Temporal论文笔记
date: 2021-04-03 09:17:14
updated: 2021-05-02 13:29:57
tags: 时序数据
mathjax: true
---

## Introducing Time into RDF + Temporal RDF

Claudio Gutierrez  2005, 2007

注：这是关于时序RDF的两篇经典论文，为同一人所写，大致内容差不多，放在一起对比总结。

论文提出了将时序推理结合到RDF中的框架，同时可以生成RDF图。

- 根据非时序RDF图的语义，得出时序RDF图的语义。
- 关于时序RDF图属性的研究，以及时间戳和快照在时序RDF图之间的相互作用。
- 将该框架合并到标准RDF图中，语法采用标准RDF词汇表加上时序标签。
- 时序RDF图中的蕴含不增加额外的复杂性。
- 关于带有匿名时间戳的时序RDF图的研究。

### RDF基本概念

**全集**：图G的全集是G中三元组的所有元素。

**词汇表**：图G的词汇表是全集中的非空元素。

**基图**：没有空节点的图。

**映射**：是从UBL(URIs, BlankNode, Literal)到URIs和literals的函数μ，**保留了非空元素**。即$μ(u)=u$, $μ(l)=l$.

定义μ(G)是所有(μ(s), μ(p), μ(o)) 的集合，μ(G)是图G的一个实例。如果μ(G)的空节点比G少，则它是G的真实例（将一个空节点映射到了URI或literal，或者定义了G的两个空节点）。如果有一个映射μ使得μ(G1)是G2的子图，则称$μ: G1\to G2$.

**闭包**：图 G 的闭包，是三元组G‘的最大集合，包含了G的全集及RDFS词汇之和，表示为$tcl(G)$。

**时序图的切片闭包**：由表达式$\cup_t(cl(G(_t)))^t$定义，其中$cl(G(_t))$ 是RDF图$G(t)$的任意闭包，图G的切片闭包表示为$scl(G)$.可以简化为计算每个快照图的非时序闭包。

### 时序RDF

在非时态RDF图中加入时间维度有两种办法：

- 时间标签（时间戳），标记了发生变化的元素，对应有效时间。
- 版本（快照），维护图各个状态的快照，对应事务时间。

时间标签的形式更好一些，原因如下：

- 保留了RDF的分布式和可扩展性的本质。
- 如果文档中只有**少部分**元素发生**频繁**的变化，但每次都要创建一个新的版本，会造成较大的开销。

论文将时间考虑为**离散的**，**线性有序域**。时间点的有序对[a, b]表示从a到b的**闭合**区间。

时序蕴含：时序RDF图G在 t 时的快照对应一个子图，该子图是标记为时间点t的三元组。<u>空节点为这种简单的方法加入了一些约束。</u>（表示两个节点是否相同）

对于RDF来讲，时间维度的影响有两方面：

- 当发生变化时，会创建一个新的文档，同时删除当前文档。
- 不支持查询元数据过去的状态。

### 时序RDF图

**时序图**：时序三元组是一个带有时序标签$t$的RDF三元组$(a, b, c)$. 形式为：$(a, b, c)[t]$.其中$(a, b, c)[t_1, t_2]$为{$(a, b, c)[t]\ |\ t_1\leq t \leq t_2$}.时序图是时序三元组的集合。

定义RDF**标准**时序图G为$u(G)$，$u(G)$={$(a,b,c)|(a,b,c)[t]\in G\ for\ some\ t$}.

对于RDF图$H$和时间$t$，定义$H^t=\{(a,b,c)[t]\ |\ (a,b,c)\in H\}$，表示由时序$t$标记的所有三元组的时序序列化。

对于时序图$G$和时间$t$，定义$G|_t$为图$G$在时间$t$的**切片**，作为$G$的子图；$G$在时间$t$的快照，定义为$G(t)=u(G|_t)$

**时序蕴含**：

- 关于时序RDF**基图**$G_1, G_2$，当且仅当对于每个时间$t$，有$G_1(t)╞G_2(t)$，则定义为$G_1╞_\tau G(2)$.
- 关于**任意**的时序RDF图，当且仅当**每个**基实例$\mu(G_1)$都**存在**一个基实例$\mu(G_2)$使得$\mu(G_1)╞_\tau\mu(G_2) $，则定义为$G_1╞_\tau G(2)$.

**NP完全**

**时序图蕴含**：令$G,G_1,G_2$为时序RDF图，则：

- $G\subseteq scl(G)$ 且 $G╞\tau scl(G)$
- $scl(G)\subseteq tcl(G)$
- $tcl(G)$是大小为G的多项式

**时序图词汇表**：时序(temporal)，点(instant)，区间(interval)，起始(initial)，终止(final)，类型均为属性，now类型为普通文字。点，起始和终止的值域为自然数。

**时序三元组和图**: 时序三元组是以下使用时序词汇表的图。

- $(a, b, c)$具体化为$(a,b,c,X),(X,tpl,Y),(Y,instant,n)$，其中n是一个自然数；可以写为$(a,b,c)[X,Y,n]$
- $(a, b, c)$具体化为$(a,b,c,X),(X,tpl,Y),(Y,interval,Z),(Z,initial,I),(Z,final,F)$，其中$I, F$都是自然数；可以写为$(a,b,c)[X,Y,I,F]$.

时序图定义为时序三元组集合的**合并**。

令$G$为时序图，$H$为带有时序词汇表的RDF图。定义$G^*$为RDF图{$(a,b,c)[X_t,Y_t,t] | (a,b,c)[t]\in G$}，其中$X_t,Y_t$是不同的空变量，在每个时间t都不同。相反地，定义$H_*$为时序图{$(a,b,c)[t] | \exists X\exists Y(a,b,c)\in H$}.

当且仅当$(H_*)^*$等价于$H$时，则称带有词汇表的RDF图$H$为标准的。

令$H_1,H_2$是带有时序词汇表的标准RDF图。定义带有时序词汇表的RDF图蕴含为$╞_T$，写为：当且仅当$(H_1)_*╞\tau(H_2)_*$.

### 匿名时间

带有匿名时间戳的时序图，形式为:$(a,b,c):[X]$，表示三元组$(a,b,c)$在某个未知时间有效。

匿名时间可以帮助定义不带时序表的三元组，是一种定义不完全时序信息的方式。比如，匿名时间戳可以声明一组三元组发生在同一时间，尽管这个时间是未知的。另外，可以通过匿名时间戳将标准RDF图转换为时序图。

令$G_1,G_2$为**一般时序图**（带有常量或匿名时间戳的时序图）。当且仅当，对每个$t-ground$图(没有匿名时间戳的一般时序图)$\mu(G_1)$ ，都有一个$t-ground$图$\mu(G_2)$，使得$\mu_1(G_1)╞_\tau\mu(G_2)$，则定义$G_1╞_{\tau(gen)}G_2$。

### 查询语言

查询是一个**时序表**，即$(H,B\cup A)$，其中$H$和$B$是一些$UBL$元素被替换为变量$V$的时序RDF图中，以及一些$T$元素被替换为$V_t$；$B$没有空节点，并且所有$H$中出现的变量也会在$B$中出现。集合$A$有一些内置宾语，关于$V_t$和$T$的算法，像$<,>,=$。

**有限的**变量：作为参数出现在非内置谓语中的变量；变量X出现在$X=t$或$t=X$，其中$t$是$T$中的一个常量；变量$X$出现在$X=Y$或$Y=X$中，其中$Y$是有限的。



## On the Diversity and Availability of Temporal Information in Linked Open Data  

Anisa Rula, 2012

针对动态变化的Web信息，对**时序信息**的多样性和可用性进行了研究。目的是区分通用文档和RDF文档。

定义**时序元信息**为RDF元素为**真**的时序信息。

### 以文档为中心

时间点与RDF文档关联。

- 基于协议的表示：从HTTP首部提取出来的响应首部。这个时序元信息关联一个时间点，由带有使用谓语$a$的Web文档的日期表示。eg:

  HTTP  Response  header
  Status: HTTP/1.1  200  OK
  a : $t^p$

- 基于元数据的表示：使用RDF文档，该文档带有来自可用词汇表的**时序属性**。令$<s,p,o>$为一个文档，$u_G$为一个命名图，$a_G$为一个时序属性，$t^p$是一个时间点。eg:

  $<s,p,o,u_G>$

  $<u_G,a_G,t^p,u_G>$

### 以事实为中心

基于*Temporal RDF* 的表示：令$<s,p,o>$为一个RDF语句，以及$[t^b,t^e]$是一个时间区间，其中$t^b$是起始点，$t^e$为终点，则形式为：$<s,p,o>[t^b,t^e]$.但是这个形式只能表示**二值**关系。

时间点或时间区间（常用）与事实关联，由于事实常常由一条或多条语句表示，因此以事实为中心又分为：**句子**为中心和**关系**为中心。

#### 句子为中心

它明确定义了用时间点或时间区间注释它们的一个或多个语句的时间有效性。

- 基于具体化的表示：令$<s,p,o>$为一个语句，$s^{st}$标识一个语句，$a^b_S$和$a_S^e$ 是两个时序属性，$[t^b:t^e]$是一个时间区间。表示为：

  \<$s^{st}$, rdf: type, rdf: Statement\>

  \<$s^{st}$, rdf: subject, $s$\>

  <$s^{st}$, rdf: predicate, $p$>

  <$s^{st}$, rdf: object, $o$>

  <$s^{st}$, $a^b_S$, $t^b$>

  <$s^{st}$, $a_S^e$ , $t^e$>

  通过RDF词汇表具体化地表示一个事实。其中$a^S$可以有一个时间点，或一个时间区间作为属性值。时序图是带有时间区间注释地命名图，每个时间区间正好由一个时序图表示，该图的所有三元组共享一个有效周期。时序元信息收集到一个默认图中。

- 基于应用时序*RDF* 的表示：令$u_{TG}$和$u_G$分别为一个时序图和一个默认图的名字，$a^b_S$和$a^e_S$是两个时序属性，$[t^b:t^e]$是一个时间区间，$<s,p,o>$为一个语句，表示为：

  $<u_{TG}, $ $a^b_S$, $t^b$, $u_G$ >

  $<u_{TG}, $ $a^e_S$, $t^e$, $u_G$ >

  <$s,p,o,$ $ u_{TG}$ >

#### 关系为中心

将时间点或时间区间封装到表示n元关系的对象中。

- 通过引入指定的资源确定关系
- 创建两个资源和关系（资源和文字）之间的链接

基于N元关系的表示：令$<s,p,o>$为一个RDF语句，$r$为一个新的资源，$p_1$和$p_2$是两个属性，$a^b_R$和$a^e_R$是两个时序属性，以及$[t^b:t^e]$是一个时间区间。表示为：

$<s,p_1,r>$

$<r,p_2,o>$

$<r,a^b_R,t^b>$

$<r,a^e_R,t^e>$

尽管$p_1$和$p_2$是两个新的属性，其中的一个通常和$p$一样。

基于4D流的表示：令$<s,p,o>$为一个RDF语句，和$a^e_R$是两个时序属性，$[t^b:t^e]$是一个时间区间，以及$s^t$和$o^t$分别是$s$和$o$两个时间分片。表示为：

$<s^t, rdf: type, :TimeSlice>$

$<s, :hasTimeSlice, s^t>$

$<s^t, a^b_R, t^b>$

$<s^t,a^e_R, t^e>$

$<o^t, rdf:type, :TimeSlice>$

$<o, :hasTimeSlice, o^t>$

$<o^t, a^b_R, t^b>$

$<o^t,a^e_R,t^e>$

$<s^t,p,o^t>$



## Maintaining Knowledge about Temporal Intervals

JAMES F. ALLEN 1983

本文描述了一种以**时间间隔**为原语的时序表示，使用约束传播技术，以分层的方式表示时间间隔之间关系的方法。由于这样表达的时间关系是相对的，因此不能用日期（模糊日期）来描述。

### 背景

- 表示可以是不精确的，许多时态是严格相对的，并且与绝对日期没有关系。
- 表示允许信息的不确定性，通常两个时间之间的确切关系是未知的，但他们之间如何关联的一些**限制**是已知的。
- 表示允许存在推理中不同的粒度。例如，对历史建模时， 以天甚至是年考虑时间；但是对计算机建模时，可能考虑纳秒或更短的时间。
- 模型应该支持持久性，应有助于类型的默认推理。

前人的工作大致有四类：

- 状态空间方法：是对瞬时时间点的描述。动作为**状态**之间的函数映射。状态空间方法(例如，[7，17])提供了一种粗略的时间感，这在简单的问题解决任务中很有用。例如，如果发生的动作导致P为真，而事实Q不再为真，则只需将事实P添加到当前状态并删除事实Q，即可模拟其效果。如果保留以前的状态，我们将时间表示为一系列描述世界中连续状态的数据库。保证了**持久性**，一旦断言了某事实，则直到被删除前保持为真。
- 日期线系统：事实以日期为索引。日期是时间的表示形式，但是无法捕获某些相对的时间信息。例如，A和B这两个事件没有同时发生的事实不能用A和B的模糊日期来表示。或者我们必须决定A在B之前，或者B在A之前，或者我们必须指定允许A和B重叠的日期范围。然后，我们需要间隔两端的模糊日期范围加上间隔的最小和最大持续时间的范围。
- before/after：可以直接捕获相对的时间信息。但存在搜索问题和空间问题。
- 形式模型：情境演算，知识被表示为一系列情境，每个情境都是对瞬间世界的描述。这个理论只适用于依次只能发生一个事件的领域。

### 13种关系

本文的模型假设由一组完全有序的时间点组成，间隔是一对有序的点，其中一个点小于第二个点。对于任何区间t，较小的端点由t-表示，较大的端点由t+表示。

在节点表示间隔的网络中维护间隔之间的关系。每条弧都有标签，以表示节点表示的两个间隔之间的可能关系，在不确定的情况下，所有可能的情况都会输入到弧上。这13种关系是相互排斥的。

<img src="https://tvax3.sinaimg.cn/large/005SZbikgy1gpfw0osll4j30k10fv765.jpg" alt="13种关系" style="zoom:80%;" />

如果弧表示了多于一种的关系，则使用关系网络形式表示。

<img src="https://tvax2.sinaimg.cn/large/005SZbikgy1gpfw1xqhlcj30k909jmya.jpg" alt="关系网络" style="zoom: 80%;" />

当加入新的区间关系时，通过计算时间关系的传递闭包实现：新的事实添加了关于其两个区间如何相关的约束，反过来可能通过控制时间关系的传递规则，在其他区间之间引入新的约束。

### 参考间隔

为了减少空间复杂度，引入了参考时间间隔，用于将间隔聚类，这些聚类计算了其中每对间隔之间的时间约束，仅通过参考间隔**间接**地与系统中的其余间隔相关。

每个时间间隔指定**一个**或**多个**时间间隔，形式为$I_1(R_1), I_2(R1,R_2)$表示间隔名为$I_1$的参考间隔为$R_1$，$I_2$的参考间隔为$R_1$和$R_2$，因为$I_2$有两个参考间隔，所以它与两个聚类连接。

<img src="https://tva3.sinaimg.cn/large/005SZbikly1gpgr1womnwj30lm07jdgo.jpg" alt="参考间隔" style="zoom:80%;" />

因为参考间隔作为一个时间间隔，所以它也有自己的参考间隔，可以用树形表示参考间隔的层次结构

<img src="https://tvax3.sinaimg.cn/large/005SZbikly1gpgr6hk4gjj30l00b73zp.jpg" alt="参考间隔树形结构" style="zoom:80%;" /> 

当捕捉历史信息时，最好选择可以**自然分隔事实**的关键事件作为参考间隔

**表示当前时刻**：令NOW为时间间隔$N_1$，during它的参考间隔$R_1$，则在数据库中的表示为：
$$
N_1(R_1)\ during\ R_1\\
R_1\ before \ I_1,\ R_2\ after \ I_2,\ R_1 during I_3
$$
当更新NOW时，$N_2$作为新的NOW，使用同一个参考间隔，可以表示为
$$
N_2(R_1)\ during \ R_1,\ N_2(R_1)\ after \ N_1(R_1)
$$
$N_2$的带来的影响只会传递给参考间隔为$R_1$的时间间隔，当参考间隔$R_1$终止时，需要加入新的参考间隔。可能会涉及数据库更大型的更新，但是如果$R_1$本身有一个参考间隔，就可以减少这样的开销。

**注**：当更新NOW间隔时，除非有其他声明，否则它与参考间隔的关系保持常量。

