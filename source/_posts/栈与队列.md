---
title: 栈与队列
date: 2021-02-20 19:11:19
updated: 2021-07-05 18:55:15
tags: 算法
---

**栈：先进后出；队列：先进先出**

## 栈

### 232. 栈实现队列

思路：栈A完成放入元素操作；移除元素时，如果栈B为空，则从栈A弹出所有元素放入栈B，若不空，则弹出栈B元素；首部元素可以**复用**移除元素的方法，取到首部元素后，再将该元素放入栈B，保证再次需要移除元素时可以弹出该元素；当栈A和栈B都非空时，则队列空。

### 20. 有效的括号

思路：遍历括号字符数组，如果是左括号就将对应的右括号入栈，如果是右括号且栈非空，就弹出栈顶元素，并判断栈顶元素是否和该右括号相同，如果是则继续判断，如果不是则返回false。最后如果栈为空则返回true，否则返回false。

<!--more-->

### 1047. 删除字符串中的所有重复项

思路：遍历字符串，将字母依次入栈，当栈是空的**或者**该字母与栈顶元素**不同**时，将字母入栈，否则（栈非空且字母与栈顶元素相同）栈顶元素出栈。**最后反转结果字符串**。

### 150. 逆波兰表达式求值

思路：将数字入栈，如果是运算符，则弹出栈顶的两个数字进行运算并将结果入栈。

## 队列

### 225. 队列实现栈

思路：队列A实现放入元素操作；移除元素时，**队列B作为备用队列**，将队列A中的所有元素（**除了最后一个**）弹出至队列B中，队列A中最后一个元素弹出后，交换队列A与队列B；首部元素可以复用移除元素的方法，取到首部元素后，再将该元素放入队列A中（**因为此时队列A与队列B已经完成交换**）；只需要判断队列A是否为空就可以判断栈是否为空。

### 239. 滑动窗口最大值

思路：采用双端队列实现单调队列（**保证队列为单调递减**）。当元素入队列时，判断该元素与队列内元素的大小关系，如果前面的数小则从**队尾**弹出，直至遇到大于该元素的。此时如果队首元素在窗口内，则加入结果数组中，否则从**队首**弹出。**队列内元素为数组的<u>下标</u>值**。

### 347. 前 K 个高频元素

思路：先采用`hashmap`记录元素出现的次数。采用优先级队列`PriorityQueue`实现**小顶堆**，因为要统计最大前k个元素，只有小顶堆每次将最小的元素弹出，最后小顶堆里积累的才是前k个最大元素。堆中添加的为`hashmap`中的`key`。遍历数组，当队列长度小于k时，将元素加入队列，大于k时，如果队首元素小于新的元素，则弹出队首元素并将新元素加入队列。

### 1190. 反转每对括号间的子串

思路：因为是从内向外反转，所以只需要在遇到**右括号**的时候，这时表示一对括号已经闭合，才需要处理字符串。在遍历字符串时，如果遇到**左括号**，就将当前子串入栈，入栈后将**临时子串**置为空（保证临时子串始终是当前最新的子串），遇到**右括号**时，将临时子串反转，并与当前括号的前一个子串进行拼接。

### 215. 数组中的第K个最大元素

思路：采用优先队列，维护有k个元素的小顶堆，如果当前堆中的元素不足k个，则直接添加，如果达到k个元素，则判断新元素与堆顶的大小关系，如果新元素小于堆顶，一定不是结果，所以当新元素大于堆顶时，将新元素放入堆中。
**思路1：**把元素都放入一个小顶堆中，然后再弹出len-k个元素，此时小顶堆只剩下k个元素，堆顶元素就是数组中的第 k 个最大元素。

**思路2：**把元素都放入一个大顶堆中，然后再弹出k-1个元素，因为前k-1 大的元素都被弹出了，此时大顶堆的堆顶元素就是数组中的第 k 个最大元素。

**优化：**可以只使用一个for循环，维护一个大小为k的小顶堆，如果小顶堆中的元素多于k个，则弹出，否则加入堆中。最终小顶堆中只有k个元素，并且堆顶即第k个最大元素。
