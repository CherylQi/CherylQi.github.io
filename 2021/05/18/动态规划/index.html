<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon32.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"cherylqi.top",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"flat"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:3,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="动态规划是为了使解决方案最优，可以通过求解子问题解决，同时每个状态都受上一个状态的选择影响。 解题步骤：  首先明确状态转移方程，以及下标的含义 确定递推公式 dp数组的初始化 确定遍历顺序 举例推导dp数组   746. 使用最小花费爬楼梯 思路：每次爬楼梯的花费可能来自前一节台阶或前两节台阶，所以每次花费就是对前一节台阶和前两节台阶的花费取最小值，作为当前台阶的花费。"><meta property="og:type" content="article"><meta property="og:title" content="动态规划"><meta property="og:url" content="https://cherylqi.top/2021/05/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/index.html"><meta property="og:site_name" content="Cheryl Qi"><meta property="og:description" content="动态规划是为了使解决方案最优，可以通过求解子问题解决，同时每个状态都受上一个状态的选择影响。 解题步骤：  首先明确状态转移方程，以及下标的含义 确定递推公式 dp数组的初始化 确定遍历顺序 举例推导dp数组   746. 使用最小花费爬楼梯 思路：每次爬楼梯的花费可能来自前一节台阶或前两节台阶，所以每次花费就是对前一节台阶和前两节台阶的花费取最小值，作为当前台阶的花费。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-05-18T08:07:00.000Z"><meta property="article:modified_time" content="2021-06-28T12:34:11.000Z"><meta property="article:author" content="Cheryl Qi"><meta property="article:tag" content="算法"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://cherylqi.top/2021/05/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>动态规划 | Cheryl Qi</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Cheryl Qi</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">自强不息，知行合一。</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://cherylqi.top/2021/05/18/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/profile.jpg"><meta itemprop="name" content="Cheryl Qi"><meta itemprop="description" content="Cheryl's Blog"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Cheryl Qi"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">动态规划</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-05-18 16:07:00" itemprop="dateCreated datePublished" datetime="2021-05-18T16:07:00+08:00">2021-05-18</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-06-28 20:34:11" itemprop="dateModified" datetime="2021-06-28T20:34:11+08:00">2021-06-28</time> </span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>4.6k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>8 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>动态规划是为了使解决方案最优，可以通过求解子问题解决，同时每个状态都受上一个状态的选择影响。</p><p><strong>解题步骤</strong>：</p><ol><li>首先明确状态转移方程，以及下标的含义</li><li>确定递推公式</li><li>dp数组的初始化</li><li>确定遍历顺序</li><li>举例推导dp数组</li></ol><h2 id="746-使用最小花费爬楼梯"><a class="markdownIt-Anchor" href="#746-使用最小花费爬楼梯"></a> 746. 使用最小花费爬楼梯</h2><p>思路：每次爬楼梯的花费可能来自前一节台阶或前两节台阶，所以每次花费就是对<code>前一节台阶</code>和<code>前两节台阶</code>的花费取<strong>最小值</strong>，作为当前台阶的花费。</p><h2 id="63-不同路径ii"><a class="markdownIt-Anchor" href="#63-不同路径ii"></a> 63. 不同路径Ⅱ</h2><p>思路：定义一个二维的数组dp，全部赋值为0。首先按照第一行和第一列进行初始化，如果当前位置没有障碍，则该位置之前（左或上）的所有路径都为1。然后从<code>dp[1][1]</code>开始，如果当前位置有障碍则不做改变，继续循环；如果没有障碍，则该位置的路径是上方和左方的路径之和。</p><h2 id="343-整数拆分"><a class="markdownIt-Anchor" href="#343-整数拆分"></a> 343. 整数拆分</h2><p>思路：首先计算前7个数的拆分结果，从1到7都是两个中位数的乘积。再根据这个结果，向后推算其他整数的拆分结果，<code>j</code>是遍历整数从3开始，到中位数<code>mid</code>的因数，最大值由<code>dp[j]*dp[i-j]</code>更新。</p><p><strong>注</strong>：更新后面的整数时，当<code>j==3</code>时，<code>dp[3]</code>应该取3.</p><p><strong>官方题解</strong>：</p><p>将 <code>i</code> 拆分成 <code>j</code>和 <code>i−j</code>的和，且 <code>i−j</code> 不再拆分成多个正整数，此时的乘积是 <code>j×(i−j)</code>；</p><p>将 <code>i</code> 拆分成 <code>j</code> 和 <code>i−j</code> 的和，且<code>i−j</code>继续拆分成多个正整数，此时的乘积是 <code>j×dp[i−j]</code>。</p><p><code>j</code>的取值范围是 1 到 <code>i−1</code></p><h2 id="1035-不相交的线"><a class="markdownIt-Anchor" href="#1035-不相交的线"></a> 1035. 不相交的线</h2><p>思路：该题类似于最长上升子序列，每一步的决策由上一步决定。因此数组dp应该是对<strong>右下</strong>方向产生印象，如果当前的两个元素相同，则对左上角的累计值+1，否则继续取上方和左方中的最大值作为当前累计值。</p><h2 id="96-不同的二叉搜索树"><a class="markdownIt-Anchor" href="#96-不同的二叉搜索树"></a> 96. 不同的二叉搜索树</h2><p>思路：当节点个数n增加时，对应二叉搜索树个数为：从1开始到n遍历根节点，<code>总个数=左子树个数*右子树个数</code>不断累加。比如当n=5时，<code>dp[5]=dp[0]*dp[4]+dp[1]*dp[3]+dp[2]*dp[2]+dp[3]*dp[1]+dp[4]*dp[0]</code>，分别对应左边0子树，右边4子树；左边1子树，右边3子树，以此类推。</p><h2 id="0-1背包问题"><a class="markdownIt-Anchor" href="#0-1背包问题"></a> 0-1背包问题</h2><p>思路：首先初始化一个二维数组dp，<code>dp[i][j]</code>表示从下标为<code>0~i</code>的物品中任意取，放入容量为j的背包时，价值总和的最大值。当背包重量为0时，最大值都是0；当放入物品0时，应注意每个物品只能用<strong>一次</strong>，因此从后向前遍历，保证每个物品只放一次。继续遍历时，只需要考虑当前背包容量大于当前物品容量时<strong>选与不选</strong>（因为如果当前背包容量小，肯定不选）。如果不选，则与上一个物品的最大值相同；如果选，则当前背包重量应该减去当前物品的重量，同时加上物品的价值。在选与不选之间取一个最大值，作为当前值即可。</p><p><strong>滚动数组</strong>：将二维数组压缩成一维数组，因为发生变化的元素只受<strong>上一个</strong>元素影响，与前面的元素都无关。</p><p><strong>注</strong>：</p><ul><li>如果物品中的价值有负数，数组初始化时应为负无穷。</li><li>滚动数组中也应该为倒序遍历，保证每个物品只放入一次。</li><li>一维数组中必须先遍历物品，再遍历背包容量。因为涉及倒序遍历，如果先遍历背包容量，那么每个dp[j]中只有一个物品。</li></ul><h2 id="416-分割等和子集"><a class="markdownIt-Anchor" href="#416-分割等和子集"></a> 416. 分割等和子集</h2><p>思路：该题的目的是将一个数组分割成两个元素和相等的数组，因此可以转化为考虑从原数组中选出一些数字，使他们的和为总和的一半。把数组中的元素看作物品，物品的重量和价值都是元素的数值；把总和的一半看作背包的容量。把物品放入背包的过程中，如果出现当前的价值等于总和的一半，就说明可以分割。</p><p><strong>注</strong>：如果按照布尔值考虑。当挑选出的数字<strong>恰好</strong>可以装满当前的背包时，当前状态为true。</p><p>如果不选择nums[i]，如果在 [0,i-1] 这个子区间内已经有一部分元素，使得它们的和为j，那么dp[i][j] = true；<br>如果选择nums[i]，如果在 [0,i-1] 这个子区间内就得找到一部分元素，使得它们的和为 j-nums[i]。</p><p>如果j恰好等于nums[i]，即单独nums[j]这个数恰好等于此时背包的容量j。</p><p>同样，如果优化为一维数组，应该从后向前遍历，保证每个元素只使用一次。</p><h2 id="1049-最后一块石头的重量ii"><a class="markdownIt-Anchor" href="#1049-最后一块石头的重量ii"></a> 1049. 最后一块石头的重量Ⅱ</h2><p>思路：为了让剩下的重量最小，就要尽可能地将总重量分成接近地两部分。因此，背包的容量为石头总重量的一半，每次向背包里放石头的时候，让总重量尽可能接近背包容量。所有石头最后分成两堆，其中一堆为<code>dp[len]</code>，另一堆为<code>sum-dp[len]</code>，因为len是向下取整，所以<code>sum-dp[len]</code>一定不小于<code>dp[len]</code>，因此最后剩的石头为<code>sum-dp[len]-dp[len]。</code></p><h2 id="494-目标和"><a class="markdownIt-Anchor" href="#494-目标和"></a> 494. 目标和</h2><p>思路：本题要求达到目标值的<strong>最多方法数</strong>，数字可以分为<strong>两类</strong>，一类为正数，一类为负数。假设数组的总和为<code>sum</code>，正数部分的和为<code>positiveNum</code>，那么负数部分的和就为<code>sum-positiveNum</code>，要保证<code>positiveNum - (sum - positiveNum) = target</code>，可以求得<code>positiveNum = (target + sum) / 2</code>。因此本题可以转化为得到<code>positiveNum</code>的方法有多少种。状态转移方程为<code>dp[j] += dp[j-nums[i]]</code>，表示在遍历到nums[i]时，有dp[j]种方法，不考虑nums[i]时，有dp[j-nums[i]]种方法，将所有方法累加即可。</p><h2 id="474-一和零"><a class="markdownIt-Anchor" href="#474-一和零"></a> 474. 一和零</h2><p>思路：将1和0的总个数分别看作二者背包的总容量，<code>dp[i][j][k]</code>表示在第i个字符串之前，1和0的个数满足m和n的子字符串个数。首先遍历字符串数组，统计当前字符串中1和0的个数，在不考虑0和1个数的情况下，<strong>当前满足条件的子字符串一定与上一个子字符串相等</strong>，即<code>dp[i][j][k] = dp[i-1][j][k]</code>。然后再考虑0和1的个数，如果可以装进背包，也就是二者个数分别小于j和k，则判断<code>dp[i-1][j][k]</code>和<code>dp[i-1][j-zero][k-one]+1</code>之间的最大值。</p><h2 id="完全背包"><a class="markdownIt-Anchor" href="#完全背包"></a> 完全背包</h2><p>思路：完全背包与0-1背包的区别在于完全背包中的物品可以放入无限次，因此只需要将0-1背包中遍历背包容量的顺序改为倒序就可以。并且遍历物品和背包循环的先后顺序可以颠倒，因为每个变化都是从左到右更新的。</p><h2 id="518-零钱兑换ii"><a class="markdownIt-Anchor" href="#518-零钱兑换ii"></a> 518. 零钱兑换Ⅱ</h2><p>思路：该题中数组dp理解物品<strong>无限</strong>的情况下，达到某个总和的方法个数。只需要将不同总和的方法累加，也就是<code>dp[j] += dp[j-nums[i]]</code>即可。</p><p><strong>注</strong>：在本题中遍历物品和背包的先后顺序必须是先遍历物品，再遍历背包容量。如果反过来会得到物品的总<strong>排列</strong>数，也就是达到当前背包容量时，所有物品的全排列。</p><h2 id="377-组合总和iv"><a class="markdownIt-Anchor" href="#377-组合总和iv"></a> 377. 组合总和Ⅳ</h2><p>思路：该题在计算每个数字的组合数时，又同时计算组合中不同的排列方式。因此应该先遍历背包，再遍历物品，保证物品出现的顺序可以不同。</p><h2 id="279-完全平方数"><a class="markdownIt-Anchor" href="#279-完全平方数"></a> 279. 完全平方数</h2><p>思路：定义数组dp，预存目标数字前所有数字的完全平方数个数，<code>dp[i]</code>表示i的完全平方数的个数。每次更新只需要将j计算到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mi>i</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-.12524000000000002em"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.91476em"><span class="svg-align" style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathdefault" style="padding-left:.833em">i</span></span><span style="top:-2.87476em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="min-width:.853em;height:1.08em"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.12524000000000002em"><span></span></span></span></span></span></span></span></span>即可，更新时取最小的个数。</p><p><strong>trick</strong>：本题将目标数字作为背包容量，将平方数作为物品。</p><h2 id="70-爬楼梯"><a class="markdownIt-Anchor" href="#70-爬楼梯"></a> 70. 爬楼梯</h2><p>思路：如果题目改为一次可以爬1阶、2阶或m阶，那么该题就是完全背包，也就是累加每一级台阶的方法个数，并且先爬1阶再爬2阶和先爬2阶再爬1阶是两种方法。</p><h2 id="322-零钱兑换"><a class="markdownIt-Anchor" href="#322-零钱兑换"></a> 322. 零钱兑换</h2><p>思路：本题的硬币可以使用无限次，因此属于完全背包问题。总金额作为背包的总容量，不断更新<code>1~总金额</code>所需的<strong>最少</strong>硬币个数即可。因为是完全背包，所以遍历背包容量应该为正序，并且遍历背包和硬币的先后顺序不固定，因为每次都是计算<strong>最小值</strong>。</p><p><strong>注</strong>：如果<code>dp[j-coins[i]]</code>还未<strong>凑成</strong>，也就是值为integer.MAX_VALUE，则跳过当前值，否则会影响取最小值。</p><h2 id="139-单词拆分"><a class="markdownIt-Anchor" href="#139-单词拆分"></a> 139. 单词拆分</h2><p>思路：把字符串看作背包，字符串中的字母看作物品。<code>dp[i]</code>表示前i-1个字母组成的单词是否在字典中。i从第1个字母开始遍历，至字符串的<strong>长度+1</strong>，j从0开始，遍历至i。如果dp[j]为true，且字典包含当前遍历的子字符串，也就是下标为[j, i-1]的字符串，则dp[i]也为true。</p><h2 id="198-打家劫舍"><a class="markdownIt-Anchor" href="#198-打家劫舍"></a> 198. 打家劫舍</h2><p>思路：题目要求闯入的房间不可以相邻，该条件约束状态转移方程的累加条件。也就是说，针对当前房间i，如果选择闯入当前房间，则偷窃金额为房间i-2的累加和加上房间i的金额；如果不闯入当前房间，则金额总和为房间i-1的金额。</p><h2 id="213-打家劫舍ii"><a class="markdownIt-Anchor" href="#213-打家劫舍ii"></a> 213. 打家劫舍Ⅱ</h2><p>思路：本题要求不可以同时闯入首尾房间。因此应该将闯入房间的区间分成两类：第一类可以闯入首房间，第二类可以闯入尾房间，在两类中取最大值。</p><p><strong>trick</strong>：两类情况的代码类似，可以写成一个函数。</p><h2 id="337-打家劫舍iii"><a class="markdownIt-Anchor" href="#337-打家劫舍iii"></a> 337. 打家劫舍Ⅲ</h2><p>思路：需要先知道子树的状态，再决定根节点的选择，所以采用后序遍历。可以为每个节点建立一个长度为2的数组dp，第一个元素为偷当前节点的结果，第二个元素为不偷当前节点的结果。第一种情况偷当前节点，则两个子树都不能偷，所以<code>dp[0]=root.val + left[1] + right[1]</code>；第二种情况是不偷当前节点，则两个子树都可以偷，所以<code>dp[1] = max(left[0], left[1]) + max(right[0], right[1])</code>。</p><h2 id="121-买卖股票的最佳时机"><a class="markdownIt-Anchor" href="#121-买卖股票的最佳时机"></a> 121. 买卖股票的最佳时机</h2><p>思路：题目有两点要求，第一个是只允许买卖各一次；第二个是必须先买入才可以卖出。因此，每天的股票都可以对应是否买入以及是否卖出。可以将每天对应的持有状态使用两个标志位记录，即<code>dp[i][0]</code>表示持有股票，<code>dp[i][1]</code>表示不持有。如果第i天持有股票，对应前一天的状态可能是持有，也可能是不持有但在第i天买入；如果第i天不持有股票，对应前一天的状态可能是不持有，也有可能是持有但第i天卖出。</p><p><strong>注</strong>：因为只允许买卖<strong>一次</strong>，所以前一天不持有股票但在第i天买入时，价格应该更新为<code>-prices[i]</code>。</p><h2 id="122-买卖股票的最佳时机ii"><a class="markdownIt-Anchor" href="#122-买卖股票的最佳时机ii"></a> 122. 买卖股票的最佳时机Ⅱ</h2><p>思路：本题允许买卖多次，因此与上一题的区别是如果i天持有股票，对应前一天的状态可能是持有，也有可能是不持有但在第i天买入，不同的是买入时，对应的价格为<code>dp[i-1][1] - prices[i]</code></p><h2 id="714-买卖股票的最佳时机含手续费"><a class="markdownIt-Anchor" href="#714-买卖股票的最佳时机含手续费"></a> 714. 买卖股票的最佳时机含手续费</h2><p>思路：与上一题的区别只是加了手续费，因此计算利润时减去手续费即可。</p><p><strong>注</strong>：只在买入或卖出时计算一次即可。</p><h2 id="300-最长递增子序列"><a class="markdownIt-Anchor" href="#300-最长递增子序列"></a> 300. 最长递增子序列</h2><p>思路：<code>dp[i]</code>表示前i个元素的递增子序列的最大长度，通过两个for循环，其中<code>j&lt;i</code>，如果<code>nums[i]&gt;nums[j]</code>，则将dp[i]更新为dp[j]+1，同时不断将dp[i]更新为最大值。最后取数组dp中的最大值即最长递增子序列。</p><h1 id="674-最长连续递增序列"><a class="markdownIt-Anchor" href="#674-最长连续递增序列"></a> 674. 最长连续递增序列</h1><p>思路：用数组dp记录递增序列的最大长度，因为题目要求是<strong>连续递增</strong>，所以遍历数组时，只需要与前一个元素比较即可。</p><h2 id="718-最长重复子数组"><a class="markdownIt-Anchor" href="#718-最长重复子数组"></a> 718. 最长重复子数组</h2><p>思路：子数组的隐含条件是<strong>连续的</strong>，采用嵌套循环，遍历时如果两个数组中的元素相等，则<code>dp[i][j]=dp[i-1][j-1]+1</code>，保证计算得到的重复元素个数是连续且<strong>单调递增判断的</strong>。</p><h2 id="1143-最长公共子序列"><a class="markdownIt-Anchor" href="#1143-最长公共子序列"></a> 1143. 最长公共子序列</h2><p>思路：本题只要求子序列，也就是说可以不连续，因此遍历时如果两个元素不相同，也应该保留在遍历到该元素之前，两个字符串的最长公共子序列，即<code>dp[i][j] = max(dp[i-1][j], dp[i][j-1])</code>；如果两个元素相同，处理方式同上题。</p><h2 id="53-最大子序列"><a class="markdownIt-Anchor" href="#53-最大子序列"></a> 53. 最大子序列</h2><p>思路：利用数组dp记录到当前元素为止，得到的连续子数组的最大和。如果dp[i-1]为负数，则dp[i]=nums[i]，否则继续累加。同时更新dp[i]的值，保证为最大值。</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%AE%97%E6%B3%95/" rel="tag"># 算法</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/04/22/stRDF%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/" rel="prev" title="stRDF论文笔记"><i class="fa fa-chevron-left"></i> stRDF论文笔记</a></div><div class="post-nav-item"><a href="/2021/06/28/Vue%E9%A1%B9%E7%9B%AE/" rel="next" title="Vue项目">Vue项目 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){let e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;let e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#746-%E4%BD%BF%E7%94%A8%E6%9C%80%E5%B0%8F%E8%8A%B1%E8%B4%B9%E7%88%AC%E6%A5%BC%E6%A2%AF"><span class="nav-number">1.</span> <span class="nav-text">746. 使用最小花费爬楼梯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#63-%E4%B8%8D%E5%90%8C%E8%B7%AF%E5%BE%84ii"><span class="nav-number">2.</span> <span class="nav-text">63. 不同路径Ⅱ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#343-%E6%95%B4%E6%95%B0%E6%8B%86%E5%88%86"><span class="nav-number">3.</span> <span class="nav-text">343. 整数拆分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1035-%E4%B8%8D%E7%9B%B8%E4%BA%A4%E7%9A%84%E7%BA%BF"><span class="nav-number">4.</span> <span class="nav-text">1035. 不相交的线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#96-%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91"><span class="nav-number">5.</span> <span class="nav-text">96. 不同的二叉搜索树</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-1%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">0-1背包问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#416-%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86"><span class="nav-number">7.</span> <span class="nav-text">416. 分割等和子集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1049-%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E7%9F%B3%E5%A4%B4%E7%9A%84%E9%87%8D%E9%87%8Fii"><span class="nav-number">8.</span> <span class="nav-text">1049. 最后一块石头的重量Ⅱ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#494-%E7%9B%AE%E6%A0%87%E5%92%8C"><span class="nav-number">9.</span> <span class="nav-text">494. 目标和</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#474-%E4%B8%80%E5%92%8C%E9%9B%B6"><span class="nav-number">10.</span> <span class="nav-text">474. 一和零</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85"><span class="nav-number">11.</span> <span class="nav-text">完全背包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#518-%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2ii"><span class="nav-number">12.</span> <span class="nav-text">518. 零钱兑换Ⅱ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#377-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8Civ"><span class="nav-number">13.</span> <span class="nav-text">377. 组合总和Ⅳ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#279-%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0"><span class="nav-number">14.</span> <span class="nav-text">279. 完全平方数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#70-%E7%88%AC%E6%A5%BC%E6%A2%AF"><span class="nav-number">15.</span> <span class="nav-text">70. 爬楼梯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#322-%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2"><span class="nav-number">16.</span> <span class="nav-text">322. 零钱兑换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#139-%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86"><span class="nav-number">17.</span> <span class="nav-text">139. 单词拆分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#198-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D"><span class="nav-number">18.</span> <span class="nav-text">198. 打家劫舍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#213-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8Dii"><span class="nav-number">19.</span> <span class="nav-text">213. 打家劫舍Ⅱ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#337-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8Diii"><span class="nav-number">20.</span> <span class="nav-text">337. 打家劫舍Ⅲ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#121-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA"><span class="nav-number">21.</span> <span class="nav-text">121. 买卖股票的最佳时机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#122-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAii"><span class="nav-number">22.</span> <span class="nav-text">122. 买卖股票的最佳时机Ⅱ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#714-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA%E5%90%AB%E6%89%8B%E7%BB%AD%E8%B4%B9"><span class="nav-number">23.</span> <span class="nav-text">714. 买卖股票的最佳时机含手续费</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#300-%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97"><span class="nav-number">24.</span> <span class="nav-text">300. 最长递增子序列</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#674-%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E9%80%92%E5%A2%9E%E5%BA%8F%E5%88%97"><span class="nav-number"></span> <span class="nav-text">674. 最长连续递增序列</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#718-%E6%9C%80%E9%95%BF%E9%87%8D%E5%A4%8D%E5%AD%90%E6%95%B0%E7%BB%84"><span class="nav-number">1.</span> <span class="nav-text">718. 最长重复子数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1143-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="nav-number">2.</span> <span class="nav-text">1143. 最长公共子序列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#53-%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%88%97"><span class="nav-number">3.</span> <span class="nav-text">53. 最大子序列</span></a></li></ol></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Cheryl Qi" src="/images/profile.jpg"><p class="site-author-name" itemprop="name">Cheryl Qi</p><div class="site-description" itemprop="description">Cheryl's Blog</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">28</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div><script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script><script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script><div class="widget-wrap"><h3 class="widget-title"></h3><div id="myCanvasContainer" class="widget tagcloud"><canvas width="250" height="250" id="resCanvas" style="width:100%"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE/" rel="tag">时序数据</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E7%A9%BA%E5%85%B3%E7%B3%BB/" rel="tag">时空关系</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E7%A9%BA%E6%8E%A8%E7%90%86/" rel="tag">时空推理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE/" rel="tag">空间数据</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89Web/" rel="tag">语义Web</a><span class="tag-list-count">8</span></li></ul></canvas></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Cheryl Qi</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">176k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">5:20</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div><div class="busuanzi-count"><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span></div></div></footer></div><script size="300" alpha="0.6" zindex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/pjax/pjax.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>var pjax=new Pjax({selectors:["head title","#page-configurations",".content-wrap",".post-toc-wrap",".languages","#pjax"],switches:{".post-toc-wrap":Pjax.switches.innerHTML},analytics:!1,cacheBust:!1,scrollTo:!CONFIG.bookmark.enable});window.addEventListener("pjax:success",()=>{document.querySelectorAll("script[data-pjax], script#page-configurations, #pjax script").forEach(e=>{var t=e.text||e.textContent||e.innerHTML||"",a=e.parentNode;a.removeChild(e);var s=document.createElement("script");e.id&&(s.id=e.id),e.className&&(s.className=e.className),e.type&&(s.type=e.type),e.src&&(s.src=e.src,s.async=!1),void 0!==e.dataset.pjax&&(s.dataset.pjax=""),""!==t&&s.appendChild(document.createTextNode(t)),a.appendChild(s)}),NexT.boot.refresh(),CONFIG.motion.enable&&NexT.motion.integrator.init().add(NexT.motion.middleWares.subMenu).add(NexT.motion.middleWares.postList).bootstrap(),NexT.utils.updateSidebarPosition()})</script><script defer src="/lib/three/three.min.js"></script><script defer src="/lib/three/canvas_sphere.min.js"></script><div id="pjax"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css"></div></body></html>